<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOUR BRAND NAME</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <!-- QR Code Generation Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator/qrcode.js"></script>
    <style>
        /* Base styles */
        body {
            font-family: 'Inter', sans-serif;
            @apply bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-200 transition-colors duration-300;
        }

        h1, h2, h3 {
            font-family: 'Poppins', sans-serif;
        }
        
        /* Custom Loader Animation */
        .loader {
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #7c3aed; /* Purple */
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        .grid-loader .loader {
             border: 4px solid rgba(0,0,0,0.1);
             border-top: 4px solid #7c3aed;
        }
        
        html.dark .grid-loader .loader {
            border: 4px solid rgba(255,255,255,0.1);
            border-top: 4px solid #7c3aed;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Confetti animation for success modal */
        .confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 9999;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0.9;
            animation: confetti-fall 4s ease-out forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-10vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Hero Carousel Styles */
        .carousel-item {
            position: absolute;
            inset: 0;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            background-size: cover;
            background-position: center;
        }
        .carousel-item.active {
            opacity: 1;
        }
        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #9ca3af; /* gray-400 */
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .carousel-dot.active {
            background-color: #7c3aed; /* purple-600 */
        }
    </style>
</head>

<body class="antialiased">

    <!-- Global Loader Overlay -->
    <div id="global-loader" class="fixed inset-0 bg-gray-900 bg-opacity-60 z-[100] flex items-center justify-center hidden">
        <div class="loader"></div>
    </div>

    <!-- App Container -->
    <div id="app-container" class="min-h-screen">

        <!-- Header -->
        <header class="sticky top-0 z-40 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm shadow-md">
            <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center space-x-4">
                        <img src="https://placehold.co/40x40/7c3aed/ffffff?text=HGI" alt="Logo" class="h-10 w-10 rounded-full" onerror="this.onerror=null;this.src='https://placehold.co/40x40/cccccc/ffffff?text=Error';">
                        <span class="text-xl font-bold text-gray-900 dark:text-white">XCEEDJS</span>
                    </div>
                    <button id="theme-toggle" class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <svg id="theme-icon-light" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <svg id="theme-icon-dark" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
             <!-- Hero Carousel -->
            <div id="hero-carousel" class="relative w-full h-56 sm:h-80 md:h-96 mb-6 shadow-2xl rounded-xl overflow-hidden">
                <!-- Carousel items will be injected here by JS -->
            </div>
            <div id="carousel-dots" class="flex justify-center space-x-2 mb-12">
                <!-- Dots will be injected here by JS -->
            </div>

            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white">Curated Gifts, Delivered with Love</h1>
                <p class="mt-4 text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">Find the perfect gift for every occasion, handcrafted and delivered across India.</p>
            </div>

            <!-- Products Grid Loader -->
            <div id="grid-loader" class="flex justify-center items-center h-64">
                 <div class="loader"></div>
            </div>

            <!-- Products Grid -->
            <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Product cards will be injected here by JavaScript -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-100 dark:bg-gray-800 mt-16">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
                 <!-- Client Testimonials Section -->
                <div class="mb-12">
                    <h3 class="text-3xl font-bold text-center mb-8 text-gray-900 dark:text-white">What Our Clients Say</h3>
                    <div class="flex justify-center">
                        <!-- Phone Frame -->
                        <div class="relative mx-auto border-gray-800 dark:border-gray-700 bg-gray-800 border-[14px] rounded-[2.5rem] h-[550px] w-[280px] sm:h-[600px] sm:w-[300px] shadow-2xl">
                            <div class="w-[148px] h-[18px] bg-gray-800 dark:bg-gray-700 top-0 rounded-b-[1rem] left-1/2 -translate-x-1/2 absolute"></div>
                            <div class="h-[46px] w-[3px] bg-gray-800 dark:bg-gray-700 absolute -start-[17px] top-[124px] rounded-s-lg"></div>
                            <div class="h-[46px] w-[3px] bg-gray-800 dark:bg-gray-700 absolute -start-[17px] top-[178px] rounded-s-lg"></div>
                            <div class="h-[64px] w-[3px] bg-gray-800 dark:bg-gray-700 absolute -end-[17px] top-[142px] rounded-e-lg"></div>
                            <div class="rounded-[2rem] overflow-hidden w-full h-full bg-white dark:bg-gray-900">
                                <img id="feedback-image" src="https://placehold.co/272x572/f3f4f6/333333?text=Loading+Feedback..." alt="Client Feedback" class="w-full h-full object-cover transition-opacity duration-700 ease-in-out">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center text-gray-600 dark:text-gray-400 pt-8 border-t border-gray-200 dark:border-gray-700">
                    <p class="mb-4">&copy; 2024 XCEEDJS. All Rights Reserved.</p>
                    <div class="flex justify-center items-center space-x-6">
                        <a href="https://www.instagram.com/hampergift_indian/" target="_blank" rel="noopener noreferrer" class="hover:text-purple-500 transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.343 4.65c.636-.247 1.363-.416 2.427-.465C9.792 2.013 10.146 2 12.315 2zm0 1.622c-2.403 0-2.748.01-3.71.058-.948.045-1.503.2-1.81.345-.38.18-.62.39-.894.664-.275.275-.485.515-.664.895-.145.307-.299.862-.345 1.81-.048.962-.058 1.307-.058 3.71s.01 2.748.058 3.71c.045.948.2 1.503.345 1.81.18.38.39.62.664.894.275.275.515.485.895.664.307.145.862.299 1.81.345.962.048 1.307.058 3.71.058s2.748-.01 3.71-.058c.948-.045 1.503-.2 1.81-.345.38-.18.62.39.894-.664.275-.275.485.515.664-.895.145-.307.299-.862-.345-1.81.048-.962.058-1.307-.058-3.71s-.01-2.748-.058-3.71c-.045-.948-.2-1.503-.345-1.81a3.29 3.29 0 00-.664-.894 3.29 3.29 0 00-.895-.664c-.307-.145-.862-.299-1.81-.345-.962-.048-1.307-.058-3.71-.058zM12 6.865a5.135 5.135 0 100 10.27 5.135 5.135 0 000-10.27zm0 8.648a3.513 3.513 0 110-7.026 3.513 3.513 0 010 7.026zM17.636 7.11a1.22 1.22 0 100-2.44 1.22 1.22 0 000 2.44z" clip-rule="evenodd" /></svg>
                        </a>
                        <a href="mailto:hampergiftindian@gmail.com" class="hover:text-purple-500 transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" /><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" /></svg>
                        </a>
                    </div>
                </div>
            </div>
        </footer>

    </div>

    <!-- Modals (initially hidden) -->
    <!-- Order Form Modal -->
    <div id="order-form-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 md:p-8 w-full max-w-md transform transition-all duration-300 scale-95 opacity-0">
             <h2 class="text-2xl font-bold mb-4 text-center text-gray-900 dark:text-white">Complete Your Order</h2>
             <p class="text-center mb-1 text-gray-600 dark:text-gray-400">For: <span id="form-product-name" class="font-semibold"></span></p>
             <p class="text-center mb-6 text-lg text-purple-600 dark:text-purple-400 font-bold">Amount: ₹<span id="form-product-price"></span></p>

            <form id="customer-form" class="space-y-4">
                <input type="text" id="name" placeholder="Full Name" required class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500">
                <input type="tel" id="phone" placeholder="Phone Number" required class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500">
                <textarea id="address" placeholder="Full Delivery Address" required rows="3" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
                <input type="text" id="reel-link" placeholder="Link of Reel (if any)" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500">
                
                <div class="flex flex-col sm:flex-row gap-4 pt-4">
                    <button type="button" id="cancel-order" class="w-full bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200 font-bold py-3 px-4 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-all">Cancel</button>
                    <button type="submit" class="w-full bg-purple-600 text-white font-bold py-3 px-4 rounded-md hover:bg-purple-700 transition-all shadow-lg">Proceed to Pay</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- QR Code Modal -->
    <div id="qr-code-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 md:p-8 w-full max-w-sm text-center transform transition-all duration-300 scale-95 opacity-0">
            <h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-white">Scan to Pay</h2>
            <p class="text-gray-600 dark:text-gray-400 mb-4">Pay <strong class="text-purple-600 dark:text-purple-400">₹<span id="qr-amount"></span></strong> using any UPI app</p>
            <div id="qrcode" class="flex justify-center items-center p-2 bg-white rounded-md my-4 min-h-[200px]">
                <!-- QR code will be generated here -->
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400">UPI ID: <span id="upi-id-display"></span></p>
            <button id="paid-button" class="mt-6 w-full bg-green-600 text-white font-bold py-3 px-4 rounded-md hover:bg-green-700 transition-all shadow-lg">I have Paid</button>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden">
         <div class="confetti-container"></div>
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md text-center transform transition-all duration-300 scale-95 opacity-0">
             <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900 mb-4">
                <svg class="h-10 w-10 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
            </div>
            <h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-white">Payment Confirmed!</h2>
            <p class="text-gray-600 dark:text-gray-400">Our team will contact you shortly. Thank you for your order!</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- CONFIGURATION ---
            const UPI_ID = 'mr.mayank@superyes';


            // --- THEME SWITCHER ---
            const themeToggle = document.getElementById('theme-toggle');
            const themeIconLight = document.getElementById('theme-icon-light');
            const themeIconDark = document.getElementById('theme-icon-dark');
            const html = document.documentElement;

            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    html.classList.add('dark');
                    themeIconDark.classList.remove('hidden');
                    themeIconLight.classList.add('hidden');
                } else {
                    html.classList.remove('dark');
                    themeIconDark.classList.add('hidden');
                    themeIconLight.classList.remove('hidden');
                }
            };
            
            // Check for saved theme in localStorage and apply it
            const savedTheme = localStorage.getItem('theme') || 'dark'; // Default to dark theme
            applyTheme(savedTheme);

            themeToggle.addEventListener('click', () => {
                const newTheme = html.classList.contains('dark') ? 'light' : 'dark';
                localStorage.setItem('theme', newTheme);
                applyTheme(newTheme);
            });

            // --- HERO CAROUSEL ---
            const carouselContainer = document.getElementById('hero-carousel');
            const dotsContainer = document.getElementById('carousel-dots');
            const carouselImages = [
                'https://placehold.co/1200x400/a78bfa/ffffff?text=Exquisite+Gift+Hampers',
                'https://placehold.co/1200x400/7c3aed/ffffff?text=Gifts+for+Every+Occasion',
                'https://placehold.co/1200x400/c4b5fd/333333?text=Delivered+Across+India',
                'https://placehold.co/1200x400/8b5cf6/ffffff?text=Handcrafted+with+Love'
            ];
            let currentSlide = 0;
            let slideInterval;

            carouselImages.forEach((src, index) => {
                // Create Slide
                const slide = document.createElement('div');
                slide.className = 'carousel-item';
                slide.style.backgroundImage = `url(${src})`;
                if (index === 0) slide.classList.add('active');
                carouselContainer.appendChild(slide);

                // Create Dot
                const dot = document.createElement('button');
                dot.className = 'carousel-dot';
                if (index === 0) dot.classList.add('active');
                dot.addEventListener('click', () => {
                    showSlide(index);
                    resetInterval();
                });
                dotsContainer.appendChild(dot);
            });
            
            const slides = document.querySelectorAll('.carousel-item');
            const dots = document.querySelectorAll('.carousel-dot');

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === index);
                });
                currentSlide = index;
            }

            function nextSlide() {
                const newIndex = (currentSlide + 1) % slides.length;
                showSlide(newIndex);
            }

            function resetInterval() {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, 5000);
            }

            slideInterval = setInterval(nextSlide, 5000);

            // --- PRODUCT DATA & RENDERING ---
            const productData = [
                { name: 'Celebration Box', description: 'A perfect box for birthdays and anniversaries.', price: 1299, image: 'photo1.png' },
                { name: 'Luxury Hamper', description: 'Experience the finest selection of gourmet treats.', price: 2499, image: 'photo2.png' },
                { name: 'Chocolate Delight', description: 'For the ultimate chocolate lover in your life.', price: 899, image: 'photo3.png' },
                { name: 'Wellness Kit', description: 'A thoughtful gift of relaxation and self-care.', price: 1599, image: 'photo4.png' },
                { name: 'Festive Special', description: 'Brighten up any festival with this special hamper.', price: 1999, image: 'photo5.png' },
                { name: 'Corporate Gift Box', description: 'Impress your clients and colleagues with this elegant box.', price: 2999, image: 'photo6.png' },
                { name: 'Romantic Surprise', description: 'Everything you need for a romantic gesture.', price: 2199, image: 'photo7.png' },
                { name: 'New Baby Hamper', description: 'Welcome a newborn with this adorable collection.', price: 1799, image: 'photo8.png' },
            ];

            const productGrid = document.getElementById('product-grid');
            const gridLoader = document.getElementById('grid-loader');

            const renderProducts = () => {
                productGrid.innerHTML = '';
                productData.forEach(product => {
                    const card = document.createElement('div');
                    card.className = 'bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 group';
                    card.innerHTML = `
                        <div class="relative">
                            <img class="w-full h-56 object-cover" src="https://placehold.co/400x300/e9d5ff/333333?text=${product.name.replace(' ','+')}" alt="${product.name}" onerror="this.onerror=null;this.src='https://placehold.co/400x300/cccccc/ffffff?text=Image+Not+Found';">
                            <div class="absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-40 transition-all duration-300"></div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white">${product.name}</h3>
                            <p class="mt-2 text-gray-600 dark:text-gray-400">${product.description}</p>
                            <div class="flex justify-between items-center mt-4">
                                <span class="text-2xl font-bold text-purple-600 dark:text-purple-400">₹${product.price}</span>
                                <button data-name="${product.name}" data-price="${product.price}" class="buy-now-btn bg-purple-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-purple-700 transition-colors shadow-md">Buy Now</button>
                            </div>
                        </div>
                    `;
                    productGrid.appendChild(card);
                });
            };
            
            // Simulate loading products
            setTimeout(() => {
                gridLoader.style.display = 'none';
                renderProducts();
                 // Re-attach event listeners after rendering
                attachBuyNowListeners();
            }, 1500);


            // --- MODAL & FORM LOGIC ---
            const globalLoader = document.getElementById('global-loader');
            const orderFormModal = document.getElementById('order-form-modal');
            const qrCodeModal = document.getElementById('qr-code-modal');
            const successModal = document.getElementById('success-modal');
            const customerForm = document.getElementById('customer-form');
            const cancelOrderBtn = document.getElementById('cancel-order');
            const paidButton = document.getElementById('paid-button');
            
            let currentProduct = {};

            const showModal = (modal) => {
                modal.classList.remove('hidden');
                setTimeout(() => modal.querySelector('div').classList.remove('scale-95', 'opacity-0'), 10);
            };

            const hideModal = (modal) => {
                modal.querySelector('div').classList.add('scale-95', 'opacity-0');
                setTimeout(() => modal.classList.add('hidden'), 300);
            };

            const showLoader = () => globalLoader.classList.remove('hidden');
            const hideLoader = () => globalLoader.classList.add('hidden');

            function attachBuyNowListeners() {
                document.querySelectorAll('.buy-now-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        currentProduct.name = e.target.dataset.name;
                        currentProduct.price = e.target.dataset.price;
                        showLoader();
                        setTimeout(() => {
                            hideLoader();
                            document.getElementById('form-product-name').textContent = currentProduct.name;
                            document.getElementById('form-product-price').textContent = currentProduct.price;
                            showModal(orderFormModal);
                        }, 500);
                    });
                });
            }

            cancelOrderBtn.addEventListener('click', () => hideModal(orderFormModal));

            customerForm.addEventListener('submit', (e) => {
                e.preventDefault();
                hideModal(orderFormModal);
                showLoader();

                const name = document.getElementById('name').value;
                const phone = document.getElementById('phone').value;
                const address = document.getElementById('address').value;
                const reelLink = document.getElementById('reel-link').value;
                
                // You can add IP fetching here if needed, for now using a placeholder
                const ipAddress = "Fetching..."; 

                const googleFormUrl = `https://docs.google.com/forms/d/e/1FAIpQLSfEs-MGV92tBUy7p4_ffLtKt4FiFOLMp3N2ycYC-FT8z_4i2A/formResponse?usp=pp_url&entry.1995640183=${encodeURIComponent(ipAddress)}&entry.1806644321=${encodeURIComponent(name)}&entry.1158388916=${encodeURIComponent(phone)}&entry.1541297937=${encodeURIComponent(reelLink || 'N/A')}&entry.241375567=${encodeURIComponent(currentProduct.price)}&entry.576025484=${encodeURIComponent(address)}`;
                
                // Submit to Google Form in the background
                fetch(googleFormUrl, { mode: 'no-cors' });

                setTimeout(() => {
                    generateQRCode();
                    hideLoader();
                    showModal(qrCodeModal);
                }, 1000);
            });
            
            function generateQRCode() {
                const amount = currentProduct.price;
                const productName = currentProduct.name;
                const upiString = `upi://pay?pa=${UPI_ID}&pn=HAMPER%20GIFT%20INDIAN&am=${amount}&tn=Order%20for%20${encodeURIComponent(productName)}`;

                document.getElementById('qr-amount').textContent = amount;
                document.getElementById('upi-id-display').textContent = UPI_ID;
                const qrContainer = document.getElementById('qrcode');
                qrContainer.innerHTML = '';
                try {
                    // Set typeNumber to 0 to allow the library to auto-detect the optimal size.
                    // This prevents errors for longer UPI strings (e.g., with long product names).
                    const typeNumber = 0; 
                    const errorCorrectionLevel = 'L';
                    const qr = qrcode(typeNumber, errorCorrectionLevel);
                    qr.addData(upiString);
                    qr.make();
                    qrContainer.innerHTML = qr.createImgTag(5, 4);
                } catch (e) {
                    qrContainer.innerHTML = "Error generating QR code. Please try again.";
                    console.error("QR Code Generation Error:", e);
                }
            }
            
            paidButton.addEventListener('click', () => {
                hideModal(qrCodeModal);
                showLoader();
                setTimeout(() => {
                    hideLoader();
                    showSuccess();
                }, 1000);
            });
            
            function showSuccess() {
                showModal(successModal);
                triggerConfetti();
                setTimeout(() => {
                    hideModal(successModal);
                    customerForm.reset();
                }, 5000);
            }

            function triggerConfetti() {
                const container = document.querySelector('.confetti-container');
                container.innerHTML = '';
                const colors = ['#7c3aed', '#a855f7', '#ec4899', '#fde047', '#4ade80'];
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.animationDelay = Math.random() * 2 + 's';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.transform = `scale(${Math.random() * 0.8 + 0.5})`;
                    container.appendChild(confetti);
                }
            }

            // --- TESTIMONIAL SLIDER ---
            const feedbackImage = document.getElementById('feedback-image');
            const feedbackImages = [
                'feedback1.jpg', 'feedback2.jpg', 'feedback3.jpg', 
                'feedback4.jpg', 'feedback5.jpg', 'feedback6.jpg'
            ];
            let currentFeedbackIndex = 0;

            function changeFeedbackImage() {
                feedbackImage.style.opacity = '0';
                setTimeout(() => {
                    currentFeedbackIndex = (currentFeedbackIndex + 1) % feedbackImages.length;
                    const imageName = feedbackImages[currentFeedbackIndex];
                    feedbackImage.src = `https://placehold.co/280x580/ffffff/333333?text=${imageName}`;
                    feedbackImage.style.opacity = '1';
                }, 700);
            }
            
            // Start the slider after an initial delay
            setTimeout(() => {
                 setInterval(changeFeedbackImage, 4000);
            }, 1000);
        });
    </script>
</body>
</html>

